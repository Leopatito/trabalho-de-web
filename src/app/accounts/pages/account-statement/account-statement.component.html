<div class="body">

  <div class="statement-container">

    <!-- Loading -->
    <div *ngIf="loading" class="loading">
      Carregando extrato...
    </div>

    <div *ngIf="!loading && account">
      <h2>Extrato — {{ account.name }}</h2>

      <p>
        <strong>Saldo Atual:</strong>
        R$ {{ account.currentBalance | number : "1.2-2" }}
      </p>

      <hr />

      <table class="table">
        <thead>
          <tr>
            <th>Data</th>
            <th>Tipo</th>
            <th>Categoria</th>
            <th class="text-right">Valor</th>
            <th>Descrição</th>
          </tr>
        </thead>

        <tbody>
          <tr *ngFor="let t of transactions">
            <td>{{ t.date | date: "dd/MM/yyyy" }}</td>

            <td>
              <span class="type-badge"
                [ngClass]="{
                  'income': t.type === 'income',
                  'expense': t.type === 'expense',
                  'transfer': t.type === 'transfer'
                }">
                {{ t.type }}
              </span>
            </td>

            <td>{{ t.category?.name || '-' }}</td>

            <td class="text-right">
              R$
              <span class="amount"
                [ngClass]="{
                  'income': t.type === 'income',
                  'expense': t.type === 'expense'
                }">
                {{ t.amount | number : "1.2-2" }}
              </span>
            </td>

            <td>{{ t.description || '-' }}</td>
          </tr>

          <tr *ngIf="transactions.length === 0">
            <td colspan="5" class="no-data">
              Nenhuma transação encontrada.
            </td>
          </tr>
        </tbody>
      </table>

      <div class="back">
        <button routerLink="/accounts">Voltar</button>
      </div>

    </div>

  </div>

</div>
